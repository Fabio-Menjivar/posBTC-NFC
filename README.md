# bitPOS-NFC: Instant Bitcoin POS with LNBits ðŸš€

<img width="1280" height="964" alt="image" src="https://github.com/user-attachments/assets/641f52d0-1557-472f-9163-a47340482537" />
<img width="920" height="687" alt="image" src="https://github.com/user-attachments/assets/5e1b64f7-2681-4d6b-abbf-089cea116203" />


The **bitPOS-NFC** is a rapid prototype for a Point-of-Sale (POS) system built to accept instant Bitcoin payments via **RFID/NFC cards** and the **Lightning Network** using **LNBits**.

This project solves the problem of slow and complex crypto payments in physical retail by delivering a secure, instantaneous, and highly affordable payment terminal.

---

## ðŸ’¡ The Innovation: Instant Retail Payments on Lightning

Our prototype demonstrates a complete, end-to-end payment loop in a few seconds:

1.  **Read Card:** Uses standard, affordable hardware to read payment data from a Lightning **RFID/NFC card**.
2.  **Instant Invoice:** A dedicated backend requests an invoice instantly from **LNBits**.
3.  **Automatic Payment:** The customer's wallet (pre-funded via the card) executes the payment instantly over the Lightning Network.
4.  **Confirmed:** The POS device confirms success in real-time, completing the transaction before the customer can pull their hand away.

This fast integration highlights the power of LNBits and simple IOT hardware for real-world adoption.

---

## ðŸ› ï¸ System Architecture & Key Components

The system is split into two critical, communicating modules:

### ðŸ’° The Electronics Module (ESP32 API Consumer)

This is the physical, standalone payment terminal built for demonstration. **Its sole role is to gather input and transmit the transaction request to the backend API.**

| Component | Function in the Prototype |
| :--- | :--- |
| **ESP32 Microcontroller** | The IOT brain. Manages Wi-Fi, sensor polling, and acts as the **API client** that consumes the custom Backend's service. |
| **Keypad** | Simplest way for the cashier to **input the Satoshi amount** and initiate the transaction request. |
| **NFC/RFID Module** | Dedicated reader that **scans the customer's Bitcoin card** to retrieve the necessary payment identifier. |
| **Display LED** | Provides **immediate status feedback** (e.g., *Amount Entered*, *Waiting for Card*, *Payment Success*). |

### â˜ï¸ The Backend Service & LNBits Integration

This is the crucial transaction layer where all payment logic resides, handling all LNBits communication.

* **API Endpoints:** Receives the transaction request (Amount + Card Data) sent directly from the **ESP32 device**.
* **LNBits API Access:** This service is hardwired to connect with a **LNBits wallet** using an API key. It handles the full payment lifecycle:
    * It immediately calls LNBits to **generate a new Lightning Invoice**.
    * It then monitors LNBits for the **payment webhook/status** to confirm the transaction is settled.
* **Instant Signaling:** Upon confirmation from LNBits, the Backend sends a simple success signal back to the ESP32.

---

## âš™ï¸ Hackathon Focus: LNBits Configuration

For this prototype, the success relies entirely on a pre-configured LNBits wallet:

### Key Requirements:
1.  **LNBits Instance:** A publicly accessible LNBits instance (e.g., LNBits.com or self-hosted).
2.  **Wallet:** A dedicated LNBits wallet (e.g., a *Lightning Wallet* or *Tpos* extension wallet) for receiving funds.
3.  **API Key:** The Backend must be configured with the LNBits **Invoice/Read Key** to generate and track payment requests.

> **Note:** The RFID/NFC cards in this demo are configured to interface with a separate wallet that will automatically pay the invoice generated by the merchant's LNBits instance, making the payment flow truly instant.

---

## ðŸš€ Transaction Flow: Demo Sequence

1.  **Cashier:** Enters amount on the **Keypad**.
2.  **Device (ESP32):** Sends transaction request to the **Backend API**.
3.  **Backend:** Calls **LNBits** to create the invoice.
4.  **Customer:** Taps the RFID/NFC card, triggering the instant payment over Lightning.
5.  **Backend:** Receives success confirmation from LNBits.
6.  **Device (ESP32):** Receives success signal and displays **"PAGO EXITOSO"** on the LED. Time elapsed: **< 3 seconds.**

---

## ðŸ—ºï¸ Roadmap and Future Vision ðŸš€ðŸ“ˆ

While this is a successful hackathon prototype, the **bitPOS-NFC** is envisioned as a polished, market-ready product with significant architectural upgrades:

### Future Development Focus:

* **Professional UX:** Development of a dedicated website featuring the product and a powerful, responsive **User Interface (UI) and User Experience (UX)** for managing the device, viewing sales data, and handling payment configurations from a smartphone or computer.
* **Hardware Refinement:** Creating a **polished enclosure and PCB** for production.
* **New Features:** Adding **currency conversion** (Sats to USD) and **integrated receipt printing**.
