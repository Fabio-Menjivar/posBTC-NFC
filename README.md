# bitPOS-NFC: Instant Bitcoin POS with LNBits (Hackathon Prototype ðŸš€)

The **bitPOS-NFC** is a rapid prototype for a Point-of-Sale (POS) system built to accept instant Bitcoin payments via **RFID/NFC cards** and the **Lightning Network** using **LNBits**.

This project solves the problem of slow and complex crypto payments in physical retail by delivering a secure, instantaneous, and highly affordable payment terminal.

---

## ðŸ’¡ The Innovation: Instant Retail Payments on Lightning

Our prototype demonstrates a complete, end-to-end payment loop in a few seconds:

1.  **Read Card:** Uses standard, affordable hardware to read payment data from a Lightning **RFID/NFC card**.
2.  **Instant Invoice:** A dedicated backend requests an invoice instantly from **LNBits**.
3.  **Automatic Payment:** The customer's wallet (pre-funded via the card) executes the payment instantly over the Lightning Network.
4.  **Confirmed:** The POS device confirms success in real-time, completing the transaction before the customer can pull their hand away.

This fast integration highlights the power of LNBits and simple IOT hardware for real-world adoption.

---

## ðŸ› ï¸ System Architecture & Key Components

The system is split into two critical, communicating modules:

### ðŸ’° The Electronics Module (ESP32 API Consumer)

This is the physical, standalone payment terminal built for demonstration. **Its sole role is to gather input and transmit the transaction request to the backend API.**

| Component | Function in the Prototype |
| :--- | :--- |
| **ESP32 Microcontroller** | The IOT brain. Manages Wi-Fi, sensor polling, and acts as the **API client** that consumes the custom Backend's service. |
| **Keypad** | Simplest way for the cashier to **input the Satoshi amount** and initiate the transaction request. |
| **NFC/RFID Module** | Dedicated reader that **scans the customer's Bitcoin card** to retrieve the necessary payment identifier. |
| **Display LED** | Provides **immediate status feedback** (e.g., *Amount Entered*, *Waiting for Card*, *Payment Success*). |

### â˜ï¸ The Backend Service & LNBits Integration

This is the crucial transaction layer where all payment logic resides, handling all LNBits communication.

* **API Endpoints:** Receives the transaction request (Amount + Card Data) sent directly from the **ESP32 device**.
* **LNBits API Access:** This service is hardwired to connect with a **LNBits wallet** using an API key. It handles the full payment lifecycle:
    * It immediately calls LNBits to **generate a new Lightning Invoice**.
    * It then monitors LNBits for the **payment webhook/status** to confirm the transaction is settled.
* **Instant Signaling:** Upon confirmation from LNBits, the Backend sends a simple success signal back to the ESP32.

---

## âš™ï¸ Hackathon Focus: LNBits Configuration

For this prototype, the success relies entirely on a pre-configured LNBits wallet:

### Key Requirements:
1.  **LNBits Instance:** A publicly accessible LNBits instance (e.g., LNBits.com or self-hosted).
2.  **Wallet:** A dedicated LNBits wallet (e.g., a *Lightning Wallet* or *Tpos* extension wallet) for receiving funds.
3.  **API Key:** The Backend must be configured with the LNBits **Invoice/Read Key** to generate and track payment requests.

> **Note:** The RFID/NFC cards in this demo are configured to interface with a separate wallet that will automatically pay the invoice generated by the merchant's LNBits instance, making the payment flow truly instant.

---

## ðŸš€ Transaction Flow: Demo Sequence

1.  **Cashier:** Enters amount on the **Keypad**.
2.  **Device (ESP32):** Sends transaction request to the **Backend API**.
3.  **Backend:** Calls **LNBits** to create the invoice.
4.  **Customer:** Taps the RFID/NFC card, triggering the instant payment over Lightning.
5.  **Backend:** Receives success confirmation from LNBits.
6.  **Device (ESP32):** Receives success signal and displays **"PAGO EXITOSO"** on the LED. Time elapsed: **< 3 seconds.**

---

## ðŸ—ºï¸ Roadmap and Future Vision

While this is a successful hackathon prototype, the **bitPOS-NFC** is envisioned as a polished, market-ready product with significant architectural upgrades:

### Future Development Focus:

* **Non-Custodial Account Management (Nostr):** Transitioning away from API keys by integrating **Nostr** for decentralized, non-custodial user account and device management, ensuring merchants retain full control over their funds.
* **Professional UI/UX:** Development of a dedicated website featuring the product and a powerful, responsive **User Interface (UI) and User Experience (UX)** for managing the device, viewing sales data, and handling payment configurations from a cellphone or computer.
* **Polished Hardware:** Development of a streamlined enclosure and professional PCB for production use.
* **Feature Expansion:** Adding support for currency conversion display (e.g., Sats to USD) and integrated receipt printing.

---

## ðŸš€ Bitcoin Integration and Scalability

This prototype was developed with key focus areas to demonstrate its long-term viability:

* **Use of Bitcoin Features:** The project primarily utilizes the **Lightning Network** (a Bitcoin Layer 2 solution) to achieve **instantaneous, low-cost final settlement**, which is the single most critical feature required for successful retail POS adoption.
* **Scalability and Global Market Potential:** By relying on the Lightning Network, the system is inherently **globally scalable**. It is not limited by local bank transfers or slow blockchain confirmation times, enabling easy deployment in any market worldwide and capable of handling a high volume of transactions per second (TPS).
